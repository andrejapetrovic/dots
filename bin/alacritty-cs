#!/usr/bin/python
from sys import argv
from pathlib import PosixPath
from yaml import load, dump, FullLoader

cfgpath = str(PosixPath('~/.config/alacritty/alacritty.yml').expanduser())

def nord(doc):
    doc['colors']['primary']['background'] = '#1c1f27'
    doc['colors']['primary']['foreground'] = '#d8dee9'
    # doc['colors']['primary']['foreground'] = '#fdfdfd'

    doc['colors']['normal']['black']    = '#282c35'
    doc['colors']['normal']['red']      = '#e9837b'
    doc['colors']['normal']['green']    = '#a3be8c'
    doc['colors']['normal']['yellow']   = '#ebcb8b'
    doc['colors']['normal']['blue']     = '#7cb7ff'
    doc['colors']['normal']['magenta']  = '#7878b0'
    doc['colors']['normal']['cyan']     = '#88c0d0'
    doc['colors']['normal']['white']    = '#e5e9f0'

    doc['colors']['bright']['black']    = '#555b68'
    doc['colors']['bright']['red']      = doc['colors']['normal']['red']
    doc['colors']['bright']['green']    = doc['colors']['normal']['green']
    doc['colors']['bright']['yellow']   = doc['colors']['normal']['yellow']
    doc['colors']['bright']['blue']     = doc['colors']['normal']['blue']
    doc['colors']['bright']['magenta']  = doc['colors']['normal']['magenta']
    doc['colors']['bright']['cyan']     = doc['colors']['normal']['cyan']
    doc['colors']['bright']['white']    = doc['colors']['normal']['white']

    doc['colors']['cursor']['cursor']   = '#fece35'
    doc['colors']['cursor']['text']     = '#555555'
    return doc

def nordDarker(doc):
    doc = nord(doc)
    doc['colors']['primary']['background'] = '#0f1219'

    return doc

def gruvboxLight(doc):
    doc['colors']['primary']['background'] = '#ebdbb2'
    doc['colors']['primary']['foreground'] = '#111215'

    doc['colors']['normal']['black']    = '#d5c5a1'
    doc['colors']['normal']['red']      = '#c02419'
    doc['colors']['normal']['green']    = '#354519'
    doc['colors']['normal']['yellow']   = '#b57614'
    doc['colors']['normal']['blue']     = '#076678'
    doc['colors']['normal']['magenta']  = '#8f3f71'
    doc['colors']['normal']['cyan']     = '#003949'
    doc['colors']['normal']['white']    = '#29281f'

    doc['colors']['bright']['black']    = '#928374'
    doc['colors']['bright']['red']      = doc['colors']['normal']['red']
    doc['colors']['bright']['green']    = doc['colors']['normal']['green']
    doc['colors']['bright']['yellow']   = doc['colors']['normal']['yellow']
    doc['colors']['bright']['blue']     = doc['colors']['normal']['blue']
    doc['colors']['bright']['magenta']  = doc['colors']['normal']['magenta']
    doc['colors']['bright']['cyan']     = doc['colors']['normal']['cyan']
    doc['colors']['bright']['white']    = doc['colors']['normal']['white']

    doc['colors']['cursor']['cursor']   = '#193d78'
    doc['colors']['cursor']['text']     = '#ffffff'
    return doc

def gruvbox(doc):
    doc['colors']['primary']['background'] = '#1d2021'
    doc['colors']['primary']['foreground'] = '#ebdbb2'

    doc['colors']['normal']['black']    = '#282828'
    doc['colors']['normal']['red']      = '#cc241d'
    doc['colors']['normal']['green']    = '#98971a'
    doc['colors']['normal']['yellow']   = '#d79921'
    doc['colors']['normal']['blue']     = '#458588'
    doc['colors']['normal']['magenta']  = '#b16286'
    doc['colors']['normal']['cyan']     = '#689d6a'
    doc['colors']['normal']['white']    = '#a89984'

    doc['colors']['bright']['black']    = '#928374'
    doc['colors']['bright']['red']      = '#fb4934'
    doc['colors']['bright']['green']    = '#b8bb26'
    doc['colors']['bright']['yellow']   = '#fabd2f'
    doc['colors']['bright']['blue']     = '#83a598'
    doc['colors']['bright']['magenta']  = '#d3869b'
    doc['colors']['bright']['cyan']     = '#8ec07c'
    doc['colors']['bright']['white']    = '#ebdbb2'

    doc['colors']['cursor']['cursor']   = '#fe8019'
    doc['colors']['cursor']['text']     = '#ffffff'
    return doc

with open(cfgpath, 'r') as file:
    doc = load(file, Loader=FullLoader)
    if (argv[1] == 'gruvbox-light'):
        gruvboxLight(doc)
    elif (argv[1] == 'nord'):
        nord(doc)
    elif (argv[1] == 'nord-darker'):
        nordDarker(doc)
    elif (argv[1] == 'gruvbox'):
        gruvbox(doc)
    else:
        print("Colorscheme doesn't exist")

with open(cfgpath, 'w') as file:
    dump(doc, file)

